<!--
John Scales
CWID 888865730
Class Number 335-04
13602 Loumont st.
Whittier, CA 90601
23 November 2019
3 Sort race
This file contains all of the html for project 3.
-->
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>3-Sort-Race</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <h1>Sort Race</h1>
    <h2>John Scales | 23 November 2019</h2>
    <h3>
This is a sorting race between 3 different sorting algorithms: Mergesort, Quicksort, and Bubblesort
    </h3>
    <canvas id="cx1" width="240" height="600"></canvas>
    <canvas id="cx2" width="240" height="600"></canvas>
    <canvas id="cx3" width="240" height="600"></canvas>
    <script src="./javascript.js"></script>
    <script>
    var canvas = document.getElementById( "cx1" );
    var cx1 = canvas.getContext( "2d" );
    var canvas = document.getElementById( "cx2" );
    var cx2 = canvas.getContext( "2d" );
    var canvas = document.getElementById( "cx3" );
    var cx3 = canvas.getContext( "2d" );
    /////////////////////////////////////////////////
    var arr = [];
    arr.push("0, B, A, 3, 2, 8, 4, 7, 6, 5, 1, 9");
    arr.push("0, A, 9, 8, 1, A, 3, 9, 2, 0, 1, 1");
    arr.push("1, 6, 3, 8, 9, 4, 0, A, 5, 2, B, 7");
    arr.push("1, 9, 8, 4, 1, B, 3, 8, 2, 6, 2, 5");
    arr.push("2, 9, 7, B, 4, 0, 1, 6, 3, 8, A, 5");
    arr.push("2, 6, 1, 0, 9, 4, 8, 7, 8, 6, 2, 6");
    arr.push("3, 4, 5, 7, 1, 9, 2, 0, 6, 8, B, A");
    arr.push("3, 5, 6, A, A, 0, 2, 3, B, 7, 2, 4");
    /*
    arr.push("4B6079A21835");
    arr.push("40B06566710A");
    arr.push("5281AB347906");
    arr.push("5750684B8934");
    arr.push("69872B3A5410");
    arr.push("6A2305304781");
    arr.push("701A693542B8");
    */
    var strindex = Math.floor((Math.random() * arr.length));
    var strhex = arr[strindex].split(', ')
    var strnum = hextonum(strhex)
    var str1 = strnum
    var index
    //console.log(str1)
    var qsmgr = {
      items: str1,
      right:str1.length - 1,
      left:0,
      index: 0,
      i: 0,
      j: this.right,
      pivot: 0
    }
    var bbsmgr = {
      items: str1,
      curpos: 0,
      ctr:0,
      swap:0,
      done:false

    }
    var mrgmgr = {
      items: str1,
      result: [],
      results: []
    }
    mrgmgr.results.push(str1)
    ////////////////////////////
    //SOME BUBBLESORT TRACKERS//
    ////////////////////////////
    var bsdone = false
    var bssteps = 0
    ///////////////////////////
    var counter = 0
    var counter2=0;
    var seperatedone = false
    var makeresults = false
    var upperlim;
    var resultslen
    var printmerge =false
    const loopDrawRect = setInterval(() => {
      ////////////////////////
      //MERGESORT////////////
      ////////////////////////
      if(counter == 0){
        console.log(mrgmgr.results)
      }
      if(seperatedone == false){
      upperlim = mrgmgr.results.length
      //var j = 0;
      //while(results.length>=1){
        var workon = results.pop
      for(var j = counter2; j < upperlim; j++){
        counter2++
        var halfwaypt = Math.floor(mrgmgr.results[j].length/2)
        var a = []
        var b = []
        a.length=0
        b.length=0
        for (var i = 0; i<halfwaypt; i++){
          a.push(mrgmgr.results[j][i])
        }
        for (var i = halfwaypt; i<mrgmgr.results[j].length; i++){
          b.push(mrgmgr.results[j][i])
        }
        resultslen = mrgmgr.results.length
        //mrgmgr.results.length = 0
        console.log(upperlim)
        if(a.length!=0){mrgmgr.results.push(a)}
        else{seperatedone = true}
        if(b.length!=0){mrgmgr.results.push(b)}
        else{seperatedone = true}
      }
      console.log(mrgmgr.results)
    }else if(makeresults == false){
      makeresults = true
      for(var i = upperlim; i<mrgmgr.results.length;i++){
        mrgmgr.result.push(mrgmgr.results[i])
      }
      console.log(mrgmgr.result)
    }else if(mrgmgr.result.length>1){
      console.log(mergeSort(mrgmgr))
    }else if(printmerge == false){
      console.log("Mergesort done in "+(counter+1)+" steps!")
      printmerge =true
    }
    ////////////////////////
    //QUICKSORT////////////
    ////////////////////////
    /*
    console.log("QUICKSORT")
    if(sortedstr1.left < sortedstr1.right){
      console.log(sortedstr1.items)
      QuickSort(sortedstr1)
      console.log(sortedstr1.items)
    }
    */
    /*
    console.log(qsmgr.items)
    if(counter==0){
      partition(qsmgr)
    }else{
      quickSort(qsmgr)
    }
    console.log(qsmgr.items)
    */
    ////////////////////////
    //BUBBLESORT////////////
    ////////////////////////
    /*
    if(bbsmgr.done == false){
      bssteps++
      console.log("BUBBLESORT STEP #"+bssteps)
      console.log(bbsmgr.items)
      BubbleSort(bbsmgr, counter)
      console.log(bbsmgr.items)
    }else if(bsdone==false){
      console.log("BUBBLESORT DONE IN "+bssteps+" STEPS")
      bsdone = true
    }else{

    }
    */
    //console.log("MERGESORT")

      counter++
      if (counter == 10){
        clearInterval(loopDrawRect);
      }
    }, 100)
    /*
    strhex = arr[strindex].split(', ')
    strnum = hextonum(strhex)
    var str2 = strnum
    console.log(str2)
    var sortedstr2 = bubbleSort(str2)
    console.log(sortedstr2)
    strhex = arr[strindex].split(', ')
    strnum = hextonum(strhex)
    var str3 = strnum
    console.log(str3)
    var sortedstr3 = mergeSort(str3)
    console.log(sortedstr3)
    */
    </script>
  </body>
</html>
